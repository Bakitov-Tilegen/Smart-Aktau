<!DOCTYPE html>
<html lang="ru">
<head>
    {{> head }}
</head>
<body class=""> <!--class="no-scroll" JS addClass show-sidebar-->
  <div class="page" id="page">
     <!--header--> 
    {{> header }}
    <!--sidebar-->
    {{> sidebar }}
    
    <main class="main">
        <div class="container">
            {{> body }}
        </div>
   
    </main>
    <!-- footer
    {{> footer }} -->

    
    {{>contacts-modal}}
    {{>share-modal}}
    {{>stories-modal}}



  </div>
  <!-- Browser sync client js не работает -->


  <!--написать мне сторис попап-->
    <script> 
    const body = document.body;
    const modalBtn = document.querySelectorAll("[data-modal]");
    const modalClose = document.querySelectorAll(".btn-close");
    const modal = document.querySelectorAll(".popup-wrapper");
    const modalContent = document.querySelectorAll(".popup");



    modalBtn.forEach(item => {
        item.addEventListener("click", event => {
            let $this = event.currentTarget;
            let modalId = $this.getAttribute("data-modal");
            let modal = document.getElementById(modalId);

            modal.classList.add('show');
            body.classList.add('no-scroll');

            setTimeout(function () {
                modal.style.transform = "none";
            }, 1);
            
            
        });
    });
    
    modalClose.forEach(item => {
        item.addEventListener("click", event => {
            let currentModal = event.target.closest(".popup-wrapper");
            closeModal(currentModal);
        });
    });

    modal.forEach(item => {
        item.addEventListener("click", event => {
            let currentModal = event.target;
            closeModal(currentModal);
        });
    });

    function closeModal (currentModal) {
        currentModal.classList.remove('show');
        body.classList.remove('no-scroll');     
        
    }
    </script>
<!--написать мне сторис попап-->


<!--бургер меню-->
    <script>
    const burger = document.getElementById("sidebarToggle");
    const sidebar = document.getElementById("sidebar");
    const page = document.getElementById("page");

    burger.addEventListener("click", event => {
        document.body.classList.toggle("show-sidebar");
        
    });

    function showSidebar() {
        let mask = document.createElement('div');
        mask.classList.add('page-mask');
        mask.addEventListener('click');
        page.appendChild('mask');
    }

    function closeSidebar() {
        console.log('closed')
    }
    </script>
<!--бургер меню-->

<!--Авто увел textarea-->
<script>
const textArea = document.querySelectorAll('[data-autoresize]');

textArea.forEach(item => {
    item.addEventListener('input', event => {
        let $this = event.target;

        $this.style.height = '30px';
        $this.style.height = $this.scrollHeight + 'px';
    });
});
    
</script>

<!--Авто увел textarea-->



</body>
</html>
